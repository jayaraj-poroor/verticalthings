/********************************************************************************
This code is automatically generated by the VerticalThings compiler. DO NOT EDIT!
********************************************************************************/

struct _arec_event {volatile int _state;};
#define NULL ((void *)0UL)
#include "../inc/vtdefs.h"
#include "../inc/stm32_hal_ex1.h"
struct _arec__syntax_test2_m;
typedef void (*_t__syntax_test2_m) (struct _arec__syntax_test2_m* _this, float*  _ret0);
struct _arec__syntax_test2_m{
    int _state = 0;
    float syntax_test2_m_y;
    int syntax_test2_m_x;
};
struct _arec__syntax_test2_main;
typedef void (*_t__syntax_test2_main) (struct _arec__syntax_test2_main* _this, void*  _ret0);
struct _arec__syntax_test2_main{
    int _state = 0;
    float syntax_test2_main_res;
    struct _arec__syntax_test2_m _arec__syntax_test2_m;
};
/*Module vars for syntax_test2*/
struct _arec__syntax_test2_m*  syntax_test2_f;
/*End of module vars for syntax_test2*/
int _syntax_test2_m(struct _arec__syntax_test2_m* _this, float* _ret0)
{
static const void * _atbl[] = { &&lstate_0, &&lstate_1 };
int _state = _this->_state;
_this->_state = 0;
if (_state > 0 && _state <= 1) goto *(_atbl[_state]);
 lstate_0:
{
    _this->syntax_test2_m_x=(_this->syntax_test2_m_y*2);
 lstate_1:
    if (_ret0 == NULL){
        _this->_state = 1;
    }
    else{
        *(_ret0) = _this->syntax_test2_m_x;
    }
    return _this->_state; 
}
return _this->_state;
}
int _syntax_test2_main(struct _arec__syntax_test2_main* _this)
{
static const void * _atbl[] = { &&lstate_0, &&lstate_1 };
int _state = _this->_state;
_this->_state = 0;
if (_state > 0 && _state <= 1) goto *(_atbl[_state]);
 lstate_0:
{
    _this->_arec__syntax_test2_m._state = 0;
    _this->_arec__syntax_test2_m.syntax_test2_m_y = 3;
    _syntax_test2_m( &(_this->_arec__syntax_test2_m), ((float*) 0UL)) ;
    syntax_test2_f= &(_this->_arec__syntax_test2_m);
 lstate_1:
    _state = _syntax_test2_m(syntax_test2_f, (&_this->syntax_test2_main_res) );
    if (_state > 0) {_this->_state = 1; return _this->_state;} 
}
return _this->_state;
}